{% extends "base.html" %}

{% block title %}Edit Teacher - VAPA Order System{% endblock %}

{% block content %}
<h2>&#9998; Edit Teacher</h2>

<form method="POST" action="{{ url_for('edit_teacher', teacher_id=teacher.id) }}" class="form-container">
    <div class="form-group">
        <label for="username">Username *</label>
        <input type="text" id="username" name="username" class="form-control" value="{{ teacher.username }}" required>
    </div>
    
    <div class="form-group">
        <label for="full_name">Full Name *</label>
        <input type="text" id="full_name" name="full_name" class="form-control" value="{{ teacher.full_name }}" required>
    </div>
    
    <div class="form-group">
        <label for="password">New Password (leave blank to keep current)</label>
        <input type="password" id="password" name="password" class="form-control" placeholder="Enter new password or leave blank">
        <small>Only enter a password if you want to change it</small>
    </div>
    
    <div class="form-group checkbox-group">
        <label class="checkbox-label">
            <input type="checkbox" name="is_active" {% if teacher.is_active %}checked{% endif %}>
            <span>Active Account</span>
        </label>
        <small>Uncheck to disable this teacher's login</small>
    </div>
    
    <div class="form-group checkbox-group">
        <label class="checkbox-label">
            <input type="checkbox" name="is_admin" {% if teacher.is_admin %}checked{% endif %} 
                   {% if teacher.id == session.user_id %}disabled{% endif %}>
            <span>Administrator Access</span>
        </label>
        {% if teacher.id == session.user_id %}
        <small class="warning-text">&#9888; You cannot change your own admin status</small>
        {% else %}
        <small>Check to grant admin privileges (can manage all orders, teachers, and settings)</small>
        {% endif %}
    </div>
    
    <div class="button-group">
        <button type="submit" class="btn btn-primary">&#128190; Save Changes</button>
        <a href="{{ url_for('admin_teachers') }}" class="btn btn-secondary">Cancel</a>
    </div>
</form>

<div class="back-link">
    <a href="{{ url_for('admin_teachers') }}">&larr; Back to Teachers</a>
</div>

<style>
.checkbox-group {
    margin: 1.5rem 0;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    font-weight: 500;
}

.checkbox-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.checkbox-label input[type="checkbox"]:disabled {
    cursor: not-allowed;
    opacity: 0.5;
}

.checkbox-label span {
    font-size: 1rem;
}

.warning-text {
    color: #ff6b6b;
    font-weight: 500;
}

.form-group small {
    display: block;
    margin-top: 0.5rem;
    color: #6c757d;
    font-size: 0.9rem;
}
</style>
{% endblock %}
